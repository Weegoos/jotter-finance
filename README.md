# Jotter Finance

## 1. Основные функции приложения

### 1.1. Пользовательский функционал
- **Регистрация и аутентификация** (email/password, OAuth по желанию)  
- **Профиль пользователя** (имя, email, валюта, настройки)  
- **Добавление и управление финансовыми счетами** (банк, наличные, электронные кошельки)  
- **Добавление транзакций**:
  - Доходы и расходы  
  - Категории (еда, транспорт, развлечения и т.д.)  
  - Повторяющиеся транзакции (подписки, зарплата)  
- **Бюджеты по категориям**  
- **Отчёты и аналитика**:
  - Баланс по счетам  
  - Расходы/доходы по категориям  
  - Графики и диаграммы  
- **Импорт/экспорт данных** (CSV, OFX)  
- **Нотификации** (оповещения о бюджете, платежах)  

---

## 2. Архитектура и технологии

### 2.1. Backend (NestJS)
- **NestJS с TypeScript**  
- **База данных:** PostgreSQL / MySQL / SQLite  
- **ORM:** Prisma или TypeORM  
- **Аутентификация:** JWT (или Passport.js + JWT)  
- **Файловое хранение:** AWS S3 или локально (для экспорта CSV/OFX)  
- **Swagger:** для документирования API  

### 2.2. Frontend (Quasar)
- **Quasar Framework + Vue 3**  
- **SPA / PWA / мобильное приложение**  
- **Chart.js / ApexCharts** для графиков и диаграмм  
- **Vuex / Pinia** для состояния приложения  

---

## 3. API Endpoints

### 3.1. Аутентификация
| Метод | Endpoint | Описание |
|-------|----------|----------|
| POST  | /auth/register | Регистрация нового пользователя |
| POST  | /auth/login    | Вход, возвращает JWT |
| POST  | /auth/logout   | Выход |
| GET   | /auth/me       | Получение профиля текущего пользователя |

### 3.2. Пользователь
| Метод | Endpoint | Описание |
|-------|----------|----------|
| GET   | /users/:id | Получение профиля |
| PUT   | /users/:id | Обновление профиля |
| DELETE| /users/:id | Удаление профиля |

### 3.3. Счета
| Метод | Endpoint | Описание |
|-------|----------|----------|
| GET   | /accounts   | Получение всех счетов пользователя |
| POST  | /accounts   | Создание нового счета |
| PUT   | /accounts/:id | Обновление счета |
| DELETE| /accounts/:id | Удаление счета |

### 3.4. Категории
| Метод | Endpoint | Описание |
|-------|----------|----------|
| GET   | /categories   | Получение всех категорий |
| POST  | /categories   | Создание категории |
| PUT   | /categories/:id | Обновление категории |
| DELETE| /categories/:id | Удаление категории |

### 3.5. Транзакции
| Метод | Endpoint | Описание |
|-------|----------|----------|
| GET   | /transactions   | Получение всех транзакций (с фильтрами: дата, категория, счет) |
| POST  | /transactions   | Добавление транзакции |
| PUT   | /transactions/:id | Обновление транзакции |
| DELETE| /transactions/:id | Удаление транзакции |

### 3.6. Бюджеты
| Метод | Endpoint | Описание |
|-------|----------|----------|
| GET   | /budgets   | Получение бюджетов по категориям |
| POST  | /budgets   | Создание нового бюджета |
| PUT   | /budgets/:id | Обновление бюджета |
| DELETE| /budgets/:id | Удаление бюджета |

### 3.7. Отчёты
| Метод | Endpoint | Описание |
|-------|----------|----------|
| GET   | /reports/summary       | Общий баланс, доходы и расходы |
| GET   | /reports/category      | Расходы по категориям за период |
| GET   | /reports/transactions  | История транзакций с фильтром |

### 3.8. Импорт/экспорт
| Метод | Endpoint | Описание |
|-------|----------|----------|
| POST  | /import/csv   | Импорт транзакций из CSV |
| POST  | /import/ofx   | Импорт OFX банковских выписок |
| GET   | /export/csv   | Экспорт транзакций в CSV |

---

## 4. План разработки (пошагово)

### Шаг 1: Настройка проекта
- Инициализация NestJS backend  
- Настройка базы данных + ORM (Prisma/TypeORM)  
- Настройка JWT-аутентификации  
- Инициализация Quasar проекта для SPA/mobilе  

### Шаг 2: Создание сущностей
- Пользователь  
- Счета  
- Категории  
- Транзакции  
- Бюджеты  

### Шаг 3: Реализация CRUD API
- `/auth`, `/users`, `/accounts`, `/categories`, `/transactions`, `/budgets`  
- Добавление фильтров и пагинации для транзакций  

### Шаг 4: Frontend
- Страницы регистрации/логина  
- Дашборд с балансом и графиками  
- CRUD интерфейс для счетов, транзакций, категорий  
- Страницы отчётов  

### Шаг 5: Визуализация
- Графики расходов/доходов по категориям  
- Отображение бюджетов и процентов выполнения  

### Шаг 6: Импорт/экспорт
- CSV и OFX импортер  
- Экспорт транзакций  

### Шаг 7: Нотификации
- Локальные пуш-уведомления (для мобильного)  
- Email-оповещения о превышении бюджета  

### Шаг 8: Тестирование и деплой
- **Backend:** Vercel / Railway / Heroku  
- **Frontend (Quasar SPA/PWA):** сборка для веба и мобильного  

---

## Ссылки
- Документация: [Google Docs](https://docs.google.com/document/d/1XEZNfbW3jipt_xC_rnwz0yuSKDJwevKQtzrNNdefdKw/edit?usp=sharing)  
- Примеры интерфейса: [Realbyte Apps](https://www.realbyteapps.com/#)

